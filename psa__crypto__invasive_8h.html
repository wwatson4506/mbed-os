<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mbed OS Reference: psa_crypto_invasive.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="mbed-ce_55x55.png"/></td>
  <td id="projectalign">
   <div id="projectname">Mbed OS Reference
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('psa__crypto__invasive_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">psa_crypto_invasive.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>PSA cryptography module: invasive interfaces for test only.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="config_8h_source.html">mbedtls/config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="crypto_8h_source.html">psa/crypto.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="entropy_8h_source.html">mbedtls/entropy.h</a>&quot;</code><br />
</div>
<p><a href="psa__crypto__invasive_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae24f0a6b5a9828d1a4398e012f3d32d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__error.html#ga05676e70ba5c6a7565aff3c36677c1f9">psa_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="psa__crypto__invasive_8h.html#ae24f0a6b5a9828d1a4398e012f3d32d1">mbedtls_psa_crypto_configure_entropy_sources</a> (void(*entropy_init)(<a class="el" href="structmbedtls__entropy__context.html">mbedtls_entropy_context</a> *ctx), void(*entropy_free)(<a class="el" href="structmbedtls__entropy__context.html">mbedtls_entropy_context</a> *ctx))</td></tr>
<tr class="memdesc:ae24f0a6b5a9828d1a4398e012f3d32d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure entropy sources.  <a href="psa__crypto__invasive_8h.html#ae24f0a6b5a9828d1a4398e012f3d32d1">More...</a><br /></td></tr>
<tr class="separator:ae24f0a6b5a9828d1a4398e012f3d32d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >PSA cryptography module: invasive interfaces for test only. </p>
<p >The interfaces in this file are intended for testing purposes only. They MUST NOT be made available to clients over IPC in integrations with isolation, and they SHOULD NOT be made available in library integrations except when building the library for testing. </p>

<p class="definition">Definition in file <a class="el" href="psa__crypto__invasive_8h_source.html">psa_crypto_invasive.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ae24f0a6b5a9828d1a4398e012f3d32d1" name="ae24f0a6b5a9828d1a4398e012f3d32d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae24f0a6b5a9828d1a4398e012f3d32d1">&#9670;&#160;</a></span>mbedtls_psa_crypto_configure_entropy_sources()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__error.html#ga05676e70ba5c6a7565aff3c36677c1f9">psa_status_t</a> mbedtls_psa_crypto_configure_entropy_sources </td>
          <td>(</td>
          <td class="paramtype">void(*)(<a class="el" href="structmbedtls__entropy__context.html">mbedtls_entropy_context</a> *ctx)&#160;</td>
          <td class="paramname"><em>entropy_init</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(<a class="el" href="structmbedtls__entropy__context.html">mbedtls_entropy_context</a> *ctx)&#160;</td>
          <td class="paramname"><em>entropy_free</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure entropy sources. </p>
<p >This function may only be called before a call to <a class="el" href="group__initialization.html#ga2de150803fc2f7dc6101d5af7e921dd9" title="Library initialization.">psa_crypto_init()</a>, or after a call to <a class="el" href="crypto__extra_8h.html#a00f4837e0253580c83b4d93ea91aa48b" title="Library deinitialization.">mbedtls_psa_crypto_free()</a> and before any subsequent call to <a class="el" href="group__initialization.html#ga2de150803fc2f7dc6101d5af7e921dd9" title="Library initialization.">psa_crypto_init()</a>.</p>
<p >This function is only intended for test purposes. The functionality it provides is also useful for system integrators, but system integrators should configure entropy drivers instead of breaking through to the Mbed TLS API.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">entropy_init</td><td>Function to initialize the entropy context and set up the desired entropy sources. It is called by <a class="el" href="group__initialization.html#ga2de150803fc2f7dc6101d5af7e921dd9" title="Library initialization.">psa_crypto_init()</a>. By default this is <a class="el" href="group__mbedtls__entropy__module.html#gaa901e027093c6fe65dee5760db78aced" title="Initialize the context.">mbedtls_entropy_init()</a>. This function cannot report failures directly. To indicate a failure, set the entropy context to a state where <a class="el" href="group__mbedtls__entropy__module.html#ga81765f6cdf4e5111bcb9f4324f3234cb" title="Retrieve entropy from the accumulator (Maximum length: MBEDTLS_ENTROPY_BLOCK_SIZE) (Thread-safe if MB...">mbedtls_entropy_func()</a> will return an error. </td></tr>
    <tr><td class="paramname">entropy_free</td><td>Function to free the entropy context and associated resources. It is called by <a class="el" href="crypto__extra_8h.html#a00f4837e0253580c83b4d93ea91aa48b" title="Library deinitialization.">mbedtls_psa_crypto_free()</a>. By default this is <a class="el" href="group__mbedtls__entropy__module.html#ga06778439f8a0e2daa2d3b444e06ad8dd" title="Free the data in the context.">mbedtls_entropy_free()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__error.html#ga4cc859e2c66ca381c7418db3527a65e1" title="The action was completed successfully.">PSA_SUCCESS</a></td><td>Success. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error.html#ga4d1b8dd8526177a15a210b7afc1accb1" title="The requested action is denied by a policy.">PSA_ERROR_NOT_PERMITTED</a></td><td>The caller does not have the permission to configure entropy sources. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error.html#ga933d40fa2a591004f2e93aa91e11db84" title="The requested action cannot be performed in the current state.">PSA_ERROR_BAD_STATE</a></td><td>The library has already been initialized. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_c5a52a81292cf9a5167198f4f346d6d9.html">platform</a></li><li class="navelem"><a class="el" href="dir_9f11e1863d28d29b770fc84ca939cb66.html">FEATURE_EXPERIMENTAL_API</a></li><li class="navelem"><a class="el" href="dir_ec63b45c6c0fa38922a7f94cb2186efd.html">FEATURE_PSA</a></li><li class="navelem"><a class="el" href="dir_74d3a6236562fcf0e40f9690e0965875.html">TARGET_MBED_PSA_SRV</a></li><li class="navelem"><a class="el" href="dir_be1803e034d231cbfb00fcb9d9f5de1a.html">mbedtls</a></li><li class="navelem"><a class="el" href="psa__crypto__invasive_8h.html">psa_crypto_invasive.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
