<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mbed OS Reference: OsClock Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="mbed-ce_55x55.png"/></td>
  <td id="projectalign">
   <div id="projectname">Mbed OS Reference
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('structmbed_1_1internal_1_1_os_clock.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">OsClock Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A C++11 chrono TrivialClock for os_timer.  
 <a href="structmbed_1_1internal_1_1_os_clock.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="mbed__os__timer_8h_source.html">mbed_os_timer.h</a>&gt;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >A C++11 chrono TrivialClock for os_timer. </p>
<p >Due to the nature of OsTimer/SysTimer, this does not have a single <code>now</code> method, but has multiple ways to report the current state: </p><pre class="fragment"> High-res timeline -------------------------------------------------------------
 Ticks               |  a  |  b  |  b  |  b  |  c  |  c  |  c  |  c  |  c  | d ^
                           ^                 ^                             ^   os_timer-&gt;get_time()
                    acknowledged_ticks()   reported_ticks()               now()
</pre><p> (a) is time read from hardware by OsTimer, reported to the user of OsTimer, and acknowledged by that user. (b) is time read from hardware by OsTimer, reported to the user of OsTimer, but not yet acknowledged. (c) is time already elapsed in the hardware but yet to be read and processed as ticks by OsTimer. (d) is time already elapsed in the hardware that doesn't yet form a tick.</p>
<p >Time is "reported" either by:</p><ul>
<li>calls to the OsTimer's handler following start_tick - these must be acknowledged</li>
<li>the result of <a class="el" href="classmbed_1_1internal_1_1_sys_timer.html#abef149d6e71c65f34e2df349ccd3aa7e" title="Update and get the current tick count.">OsTimer::update_and_get_tick()</a> / OsClock::now() - calling this implies acknowledgment.</li>
</ul>
<p >As such <code>now()</code> is used when the ticker is not in use - it processes ticks that would have been processed by the tick handler. If the ticker is in uses <code>reported_ticks</code> or <code>acknowleged_ticks</code> must be used.</p>
<dl class="section note"><dt>Note</dt><dd>To fit better into the chrono framework, <a class="el" href="structmbed_1_1internal_1_1_os_clock.html" title="A C++11 chrono TrivialClock for os_timer.">OsClock</a> uses chrono::milliseconds as its representation, which makes it signed and at least 45 bits, so it will be int64_t or equivalent, unlike OsTimer which uses uint64_t rep. </dd></dl>

<p class="definition">Definition at line <a class="el" href="mbed__os__timer_8h_source.html#l00071">71</a> of file <a class="el" href="mbed__os__timer_8h_source.html">mbed_os_timer.h</a>.</p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>mbed</b></li><li class="navelem"><b>internal</b></li><li class="navelem"><a class="el" href="structmbed_1_1internal_1_1_os_clock.html">OsClock</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
