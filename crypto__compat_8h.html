<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mbed OS Reference: crypto_compat.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="mbed-ce_55x55.png"/></td>
  <td id="projectalign">
   <div id="projectname">Mbed OS Reference
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('crypto__compat_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">crypto_compat.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>PSA cryptography module: Backward compatibility aliases.  
<a href="#details">More...</a></p>

<p><a href="crypto__compat_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a24d5fdcdd759f846f79d9e581c63a83f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crypto__compat_8h.html#a24d5fdcdd759f846f79d9e581c63a83f">PSA_ERROR_UNKNOWN_ERROR</a>&#160;&#160;&#160;    MBEDTLS_DEPRECATED_CONSTANT( <a class="el" href="group__error.html#ga05676e70ba5c6a7565aff3c36677c1f9">psa_status_t</a>, <a class="el" href="group__error.html#ga8bfafd6baac18ce5d3192d1de256238f">PSA_ERROR_GENERIC_ERROR</a> )</td></tr>
<tr class="separator:a24d5fdcdd759f846f79d9e581c63a83f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2fee3a51249fbea45360aaa911f3e58"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crypto__compat_8h.html#ac2fee3a51249fbea45360aaa911f3e58">PSA_ERROR_OCCUPIED_SLOT</a>&#160;&#160;&#160;    MBEDTLS_DEPRECATED_CONSTANT( <a class="el" href="group__error.html#ga05676e70ba5c6a7565aff3c36677c1f9">psa_status_t</a>, <a class="el" href="group__error.html#gaf2b34cc87edc72f3ba90071a08210d20">PSA_ERROR_ALREADY_EXISTS</a> )</td></tr>
<tr class="separator:ac2fee3a51249fbea45360aaa911f3e58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba00e3e6ceb2b12965a81e5ac02ae040"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crypto__compat_8h.html#aba00e3e6ceb2b12965a81e5ac02ae040">PSA_ERROR_EMPTY_SLOT</a>&#160;&#160;&#160;    MBEDTLS_DEPRECATED_CONSTANT( <a class="el" href="group__error.html#ga05676e70ba5c6a7565aff3c36677c1f9">psa_status_t</a>, <a class="el" href="group__error.html#ga18646babb2ae6cbde02ea3828bbd9141">PSA_ERROR_DOES_NOT_EXIST</a> )</td></tr>
<tr class="separator:aba00e3e6ceb2b12965a81e5ac02ae040"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1fa61f72e9e5b4a848c991bea495767"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crypto__compat_8h.html#af1fa61f72e9e5b4a848c991bea495767">PSA_ERROR_INSUFFICIENT_CAPACITY</a>&#160;&#160;&#160;    MBEDTLS_DEPRECATED_CONSTANT( <a class="el" href="group__error.html#ga05676e70ba5c6a7565aff3c36677c1f9">psa_status_t</a>, <a class="el" href="group__error.html#ga086ac09f3a555f86e7997beb186f5eef">PSA_ERROR_INSUFFICIENT_DATA</a> )</td></tr>
<tr class="separator:af1fa61f72e9e5b4a848c991bea495767"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c5dda1485cb54f2385cb9c1279a7004"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crypto__compat_8h.html#a2c5dda1485cb54f2385cb9c1279a7004">PSA_ERROR_TAMPERING_DETECTED</a>&#160;&#160;&#160;    MBEDTLS_DEPRECATED_CONSTANT( <a class="el" href="group__error.html#ga05676e70ba5c6a7565aff3c36677c1f9">psa_status_t</a>, <a class="el" href="group__error.html#ga116f4d4c6a9d9db3397991a8472d8950">PSA_ERROR_CORRUPTION_DETECTED</a> )</td></tr>
<tr class="separator:a2c5dda1485cb54f2385cb9c1279a7004"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a950f0f358a0a012b043d02e55faed7c0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__error.html#ga05676e70ba5c6a7565aff3c36677c1f9">psa_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crypto__compat_8h.html#a950f0f358a0a012b043d02e55faed7c0">psa_open_key</a> (<a class="el" href="group__key__lifetimes.html#ga9a5375bd0cb9694f3a2694adc0a6ae13">mbedtls_svc_key_id_t</a> key, psa_key_handle_t *handle)</td></tr>
<tr class="memdesc:a950f0f358a0a012b043d02e55faed7c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a handle to an existing persistent key.  <a href="crypto__compat_8h.html#a950f0f358a0a012b043d02e55faed7c0">More...</a><br /></td></tr>
<tr class="separator:a950f0f358a0a012b043d02e55faed7c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa09b720d299dfe6b9f41c36e448078eb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__error.html#ga05676e70ba5c6a7565aff3c36677c1f9">psa_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crypto__compat_8h.html#aa09b720d299dfe6b9f41c36e448078eb">psa_close_key</a> (psa_key_handle_t handle)</td></tr>
<tr class="memdesc:aa09b720d299dfe6b9f41c36e448078eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close a key handle.  <a href="crypto__compat_8h.html#aa09b720d299dfe6b9f41c36e448078eb">More...</a><br /></td></tr>
<tr class="separator:aa09b720d299dfe6b9f41c36e448078eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >PSA cryptography module: Backward compatibility aliases. </p>
<p >This header declares alternative names for macro and functions. New application code should not use these names. These names may be removed in a future version of Mbed Crypto.</p>
<dl class="section note"><dt>Note</dt><dd>This file may not be included directly. Applications must include <a class="el" href="crypto_8h.html" title="Platform Security Architecture cryptography module.">psa/crypto.h</a>. </dd></dl>

<p class="definition">Definition in file <a class="el" href="crypto__compat_8h_source.html">crypto_compat.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a24d5fdcdd759f846f79d9e581c63a83f" name="a24d5fdcdd759f846f79d9e581c63a83f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24d5fdcdd759f846f79d9e581c63a83f">&#9670;&#160;</a></span>PSA_ERROR_UNKNOWN_ERROR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PSA_ERROR_UNKNOWN_ERROR&#160;&#160;&#160;    MBEDTLS_DEPRECATED_CONSTANT( <a class="el" href="group__error.html#ga05676e70ba5c6a7565aff3c36677c1f9">psa_status_t</a>, <a class="el" href="group__error.html#ga8bfafd6baac18ce5d3192d1de256238f">PSA_ERROR_GENERIC_ERROR</a> )</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000074">Deprecated:</a></b></dt><dd>Replaced by <a class="el" href="group__error.html#ga8bfafd6baac18ce5d3192d1de256238f" title="An error occurred that does not correspond to any defined failure cause.">PSA_ERROR_GENERIC_ERROR</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="crypto__compat_8h_source.html#l00090">90</a> of file <a class="el" href="crypto__compat_8h_source.html">crypto_compat.h</a>.</p>

</div>
</div>
<a id="ac2fee3a51249fbea45360aaa911f3e58" name="ac2fee3a51249fbea45360aaa911f3e58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2fee3a51249fbea45360aaa911f3e58">&#9670;&#160;</a></span>PSA_ERROR_OCCUPIED_SLOT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PSA_ERROR_OCCUPIED_SLOT&#160;&#160;&#160;    MBEDTLS_DEPRECATED_CONSTANT( <a class="el" href="group__error.html#ga05676e70ba5c6a7565aff3c36677c1f9">psa_status_t</a>, <a class="el" href="group__error.html#gaf2b34cc87edc72f3ba90071a08210d20">PSA_ERROR_ALREADY_EXISTS</a> )</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000075">Deprecated:</a></b></dt><dd>Replaced by <a class="el" href="group__error.html#gaf2b34cc87edc72f3ba90071a08210d20" title="Asking for an item that already exists.">PSA_ERROR_ALREADY_EXISTS</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="crypto__compat_8h_source.html#l00095">95</a> of file <a class="el" href="crypto__compat_8h_source.html">crypto_compat.h</a>.</p>

</div>
</div>
<a id="aba00e3e6ceb2b12965a81e5ac02ae040" name="aba00e3e6ceb2b12965a81e5ac02ae040"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba00e3e6ceb2b12965a81e5ac02ae040">&#9670;&#160;</a></span>PSA_ERROR_EMPTY_SLOT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PSA_ERROR_EMPTY_SLOT&#160;&#160;&#160;    MBEDTLS_DEPRECATED_CONSTANT( <a class="el" href="group__error.html#ga05676e70ba5c6a7565aff3c36677c1f9">psa_status_t</a>, <a class="el" href="group__error.html#ga18646babb2ae6cbde02ea3828bbd9141">PSA_ERROR_DOES_NOT_EXIST</a> )</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000076">Deprecated:</a></b></dt><dd>Replaced by <a class="el" href="group__error.html#ga18646babb2ae6cbde02ea3828bbd9141" title="Asking for an item that doesn&#39;t exist.">PSA_ERROR_DOES_NOT_EXIST</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="crypto__compat_8h_source.html#l00100">100</a> of file <a class="el" href="crypto__compat_8h_source.html">crypto_compat.h</a>.</p>

</div>
</div>
<a id="af1fa61f72e9e5b4a848c991bea495767" name="af1fa61f72e9e5b4a848c991bea495767"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1fa61f72e9e5b4a848c991bea495767">&#9670;&#160;</a></span>PSA_ERROR_INSUFFICIENT_CAPACITY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PSA_ERROR_INSUFFICIENT_CAPACITY&#160;&#160;&#160;    MBEDTLS_DEPRECATED_CONSTANT( <a class="el" href="group__error.html#ga05676e70ba5c6a7565aff3c36677c1f9">psa_status_t</a>, <a class="el" href="group__error.html#ga086ac09f3a555f86e7997beb186f5eef">PSA_ERROR_INSUFFICIENT_DATA</a> )</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000077">Deprecated:</a></b></dt><dd>Replaced by <a class="el" href="group__error.html#ga086ac09f3a555f86e7997beb186f5eef" title="Return this error when there&#39;s insufficient data when attempting to read from a resource.">PSA_ERROR_INSUFFICIENT_DATA</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="crypto__compat_8h_source.html#l00105">105</a> of file <a class="el" href="crypto__compat_8h_source.html">crypto_compat.h</a>.</p>

</div>
</div>
<a id="a2c5dda1485cb54f2385cb9c1279a7004" name="a2c5dda1485cb54f2385cb9c1279a7004"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c5dda1485cb54f2385cb9c1279a7004">&#9670;&#160;</a></span>PSA_ERROR_TAMPERING_DETECTED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PSA_ERROR_TAMPERING_DETECTED&#160;&#160;&#160;    MBEDTLS_DEPRECATED_CONSTANT( <a class="el" href="group__error.html#ga05676e70ba5c6a7565aff3c36677c1f9">psa_status_t</a>, <a class="el" href="group__error.html#ga116f4d4c6a9d9db3397991a8472d8950">PSA_ERROR_CORRUPTION_DETECTED</a> )</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000078">Deprecated:</a></b></dt><dd>Replaced by <a class="el" href="group__error.html#ga116f4d4c6a9d9db3397991a8472d8950" title="A tampering attempt was detected.">PSA_ERROR_CORRUPTION_DETECTED</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="crypto__compat_8h_source.html#l00110">110</a> of file <a class="el" href="crypto__compat_8h_source.html">crypto_compat.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a950f0f358a0a012b043d02e55faed7c0" name="a950f0f358a0a012b043d02e55faed7c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a950f0f358a0a012b043d02e55faed7c0">&#9670;&#160;</a></span>psa_open_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__error.html#ga05676e70ba5c6a7565aff3c36677c1f9">psa_status_t</a> psa_open_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__key__lifetimes.html#ga9a5375bd0cb9694f3a2694adc0a6ae13">mbedtls_svc_key_id_t</a>&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">psa_key_handle_t *&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open a handle to an existing persistent key. </p>
<p >Open a handle to a persistent key. A key is persistent if it was created with a lifetime other than <a class="el" href="group__key__lifetimes.html#ga8b438870ba69489b685730d346455108" title="The default lifetime for volatile keys.">PSA_KEY_LIFETIME_VOLATILE</a>. A persistent key always has a nonzero key identifier, set with psa_set_key_id() when creating the key. Implementations may provide additional pre-provisioned keys that can be opened with <a class="el" href="crypto__compat_8h.html#a950f0f358a0a012b043d02e55faed7c0" title="Open a handle to an existing persistent key.">psa_open_key()</a>. Such keys have an application key identifier in the vendor range, as documented in the description of <a class="el" href="group__key__lifetimes.html#ga11e986351c65bd3dc3c0fe2cd9926e4b" title="Encoding of identifiers of persistent keys.">psa_key_id_t</a>.</p>
<p >The application must eventually close the handle with <a class="el" href="crypto__compat_8h.html#aa09b720d299dfe6b9f41c36e448078eb" title="Close a key handle.">psa_close_key()</a> or <a class="el" href="group__key__management.html#ga5f52644312291335682fbc0292c43cd2" title="Destroy a key.">psa_destroy_key()</a> to release associated resources. If the application dies without calling one of these functions, the implementation should perform the equivalent of a call to <a class="el" href="crypto__compat_8h.html#aa09b720d299dfe6b9f41c36e448078eb" title="Close a key handle.">psa_close_key()</a>.</p>
<p >Some implementations permit an application to open the same key multiple times. If this is successful, each call to <a class="el" href="crypto__compat_8h.html#a950f0f358a0a012b043d02e55faed7c0" title="Open a handle to an existing persistent key.">psa_open_key()</a> will return a different key handle.</p>
<dl class="section note"><dt>Note</dt><dd>This API is not part of the PSA Cryptography API Release 1.0.0 specification. It was defined in the 1.0 Beta 3 version of the specification but was removed in the 1.0.0 released version. This API is kept for the time being to not break applications relying on it. It is not deprecated yet but will be in the near future.</dd>
<dd>
Applications that rely on opening a key multiple times will not be portable to implementations that only permit a single key handle to be opened. See also :ref:`key-handles`.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">key</td><td>The persistent identifier of the key. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">handle</td><td>On success, a handle to the key.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__error.html#ga4cc859e2c66ca381c7418db3527a65e1" title="The action was completed successfully.">PSA_SUCCESS</a></td><td>Success. The application can now use the value of <code>*handle</code> to access the key. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error.html#ga91b2ad8a867517a2651f1b076c5216e5" title="There is not enough runtime memory.">PSA_ERROR_INSUFFICIENT_MEMORY</a></td><td>The implementation does not have sufficient resources to open the key. This can be due to reaching an implementation limit on the number of open keys, the number of open key handles, or available memory. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error.html#ga18646babb2ae6cbde02ea3828bbd9141" title="Asking for an item that doesn&#39;t exist.">PSA_ERROR_DOES_NOT_EXIST</a></td><td>There is no persistent key with key identifier <code>id</code>. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error.html#ga798df25a505ebf931f7bec1f80f1f85f" title="The parameters passed to the function are invalid.">PSA_ERROR_INVALID_ARGUMENT</a></td><td><code>id</code> is not a valid persistent key identifier. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error.html#ga4d1b8dd8526177a15a210b7afc1accb1" title="The requested action is denied by a policy.">PSA_ERROR_NOT_PERMITTED</a></td><td>The specified key exists, but the application does not have the permission to access it. Note that this specification does not define any way to create such a key, but it may be possible through implementation-specific means. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error.html#ga5cdb6948371d49e916106249020ea3f7" title="There was a communication failure inside the implementation.">PSA_ERROR_COMMUNICATION_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__error.html#ga116f4d4c6a9d9db3397991a8472d8950" title="A tampering attempt was detected.">PSA_ERROR_CORRUPTION_DETECTED</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__error.html#gadd169a1af2707862b95fb9df91dfc37d" title="There was a storage failure that may have led to data loss.">PSA_ERROR_STORAGE_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__error.html#ga933d40fa2a591004f2e93aa91e11db84" title="The requested action cannot be performed in the current state.">PSA_ERROR_BAD_STATE</a></td><td>The library has not been previously initialized by <a class="el" href="group__initialization.html#ga2de150803fc2f7dc6101d5af7e921dd9" title="Library initialization.">psa_crypto_init()</a>. It is implementation-dependent whether a failure to initialize results in this error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa09b720d299dfe6b9f41c36e448078eb" name="aa09b720d299dfe6b9f41c36e448078eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa09b720d299dfe6b9f41c36e448078eb">&#9670;&#160;</a></span>psa_close_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__error.html#ga05676e70ba5c6a7565aff3c36677c1f9">psa_status_t</a> psa_close_key </td>
          <td>(</td>
          <td class="paramtype">psa_key_handle_t&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close a key handle. </p>
<p >If the handle designates a volatile key, this will destroy the key material and free all associated resources, just like <a class="el" href="group__key__management.html#ga5f52644312291335682fbc0292c43cd2" title="Destroy a key.">psa_destroy_key()</a>.</p>
<p >If this is the last open handle to a persistent key, then closing the handle will free all resources associated with the key in volatile memory. The key data in persistent storage is not affected and can be opened again later with a call to <a class="el" href="crypto__compat_8h.html#a950f0f358a0a012b043d02e55faed7c0" title="Open a handle to an existing persistent key.">psa_open_key()</a>.</p>
<p >Closing the key handle makes the handle invalid, and the key handle must not be used again by the application.</p>
<dl class="section note"><dt>Note</dt><dd>This API is not part of the PSA Cryptography API Release 1.0.0 specification. It was defined in the 1.0 Beta 3 version of the specification but was removed in the 1.0.0 released version. This API is kept for the time being to not break applications relying on it. It is not deprecated yet but will be in the near future.</dd>
<dd>
If the key handle was used to set up an active :ref:`multipart operation &lt;multipart-operations&gt;`, then closing the key handle can cause the multipart operation to fail. Applications should maintain the key handle until after the multipart operation has finished.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>The key handle to close. If this is <code>0</code>, do nothing and return <code>PSA_SUCCESS</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="group__error.html#ga4cc859e2c66ca381c7418db3527a65e1" title="The action was completed successfully.">PSA_SUCCESS</a></td><td><code>handle</code> was a valid handle or <code>0</code>. It is now closed. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error.html#gadf22718935657c2c3168c228204085f9" title="The key identifier is not valid.">PSA_ERROR_INVALID_HANDLE</a></td><td><code>handle</code> is not a valid handle nor <code>0</code>. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__error.html#ga5cdb6948371d49e916106249020ea3f7" title="There was a communication failure inside the implementation.">PSA_ERROR_COMMUNICATION_FAILURE</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__error.html#ga116f4d4c6a9d9db3397991a8472d8950" title="A tampering attempt was detected.">PSA_ERROR_CORRUPTION_DETECTED</a></td><td></td></tr>
    <tr><td class="paramname"><a class="el" href="group__error.html#ga933d40fa2a591004f2e93aa91e11db84" title="The requested action cannot be performed in the current state.">PSA_ERROR_BAD_STATE</a></td><td>The library has not been previously initialized by <a class="el" href="group__initialization.html#ga2de150803fc2f7dc6101d5af7e921dd9" title="Library initialization.">psa_crypto_init()</a>. It is implementation-dependent whether a failure to initialize results in this error code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_c5a52a81292cf9a5167198f4f346d6d9.html">platform</a></li><li class="navelem"><a class="el" href="dir_9f11e1863d28d29b770fc84ca939cb66.html">FEATURE_EXPERIMENTAL_API</a></li><li class="navelem"><a class="el" href="dir_ec63b45c6c0fa38922a7f94cb2186efd.html">FEATURE_PSA</a></li><li class="navelem"><a class="el" href="dir_74d3a6236562fcf0e40f9690e0965875.html">TARGET_MBED_PSA_SRV</a></li><li class="navelem"><a class="el" href="dir_a3503c50d2d2fb809be1ba9078b1848e.html">inc</a></li><li class="navelem"><a class="el" href="dir_6fda2c4053325e07bf36bc18b0d53b0d.html">psa</a></li><li class="navelem"><a class="el" href="crypto__compat_8h.html">crypto_compat.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
